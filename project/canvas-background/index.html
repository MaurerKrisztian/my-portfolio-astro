<!DOCTYPE html><link rel="stylesheet" href="/assets/works-index-project-canvas-background-projects-404-about.f70babb3.css" />
<link rel="stylesheet" href="/assets/works-index-project-canvas-background-projects.6c3cc81b.css" /><html lang="en" class="astro-FNBAIWJC">
	<head>
		<meta charset="UTF-8">
<meta name="description" property="og:description" content="The goal of this project is to make a cool background with randomized shapes and to be customizable.
">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Astro v1.0.3">
<title>Canvas shapes background</title>

<link rel="icon" type="image/x-icon" href="/favicon.ico">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;400;700;900&display=swap" rel="stylesheet">

		
	<link rel="stylesheet" href="/assets/works-index-project-canvas-background-projects-404-about.f70babb3.css" />
<link rel="stylesheet" href="/assets/works-index-project-canvas-background-projects.6c3cc81b.css" /></head>
	<body class="astro-FNBAIWJC">
		<nav class="_nav_7dyb5_1"><a class="_logolink_7dyb5_10" href="/"><div class="_monogram_7dyb5_30">JW</div></a><a class="_link_7dyb5_16" href="/projects">Portfolio</a><a class="_link_7dyb5_16" href="/works">Works</a><a class="_link_7dyb5_16" href="/about">About</a><a class="_social_7dyb5_44" href="https://github.com/MaurerKrisztian"><svg class="_socialicon_7dyb5_52" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg></a><a class="_social_7dyb5_44" href="https://dev.to/maurerkrisztian"><svg class="_socialicon_7dyb5_52" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 40" style="enable-background:new 0 0 50 40" xmlSpace="preserve"><path d="M15.7 15.5c-.4-.3-.7-.4-1.1-.4h-1.7v10.1h1.7c.4 0 .8-.1 1.1-.4.4-.3.6-.7.6-1.3v-6.7c0-.6-.2-1-.6-1.3z"></path><path d="M47 0H3C1.3 0 0 1.3 0 3v34c0 1.7 1.3 3 3 3h44c1.7 0 3-1.3 3-3V3c0-1.7-1.3-3-3-3zM19.1 23.5c0 1.3-.4 2.4-1.3 3.2-.8.9-1.9 1.3-3.3 1.3h-4.4V12.3h4.5c1.3 0 2.4.4 3.2 1.3.8.8 1.3 1.9 1.3 3.2v6.7zm9.1-8.4h-5.1v3.6h3.1v2.8h-3.1v3.7h5.1V28h-5.9c-.6 0-1-.2-1.4-.6-.4-.4-.6-.8-.6-1.4V14.2c0-.6.2-1 .6-1.4.4-.4.8-.6 1.4-.6h5.9v2.9zM37.5 26c-.6 1.3-1.3 2-2.2 2-.9 0-1.7-.7-2.2-2l-3.7-13.8h3.1L35.3 23l2.8-10.8h3.1L37.5 26z"></path></svg></a><a class="_social_7dyb5_44" target="_blank" href="https://profile.codersrank.io/user/maurerkrisztian"><img class="_socialicon_7dyb5_52" src="assets/icons/codersrank-blue.svg" /></a><a class="_social_7dyb5_44" target="_blank" href="https://hashnode.com/@maurerkrisztian"><img class="_socialicon_7dyb5_52" src="assets/icons/hashnode-svgrepo-com.svg" /></a><a class="_social_7dyb5_44" target="_blank" href="https://www.linkedin.com/in/kriszti%C3%A1n-maurer-7681a6192/"><svg class="_socialicon_7dyb5_52" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg></a></nav>
		<header style="background-image:url(/assets/project/sahpesprocejtbackground.webp)" class="hero astro-FNBAIWJC">
			<h1 class="title astro-FNBAIWJC">Canvas shapes background</h1>
		</header>
		<div class="leadIn astro-FNBAIWJC">
			<div class="wrapper pt8 pb8 mb8 tac astro-FNBAIWJC">
				<span class="tag astro-FNBAIWJC">HTML Canvas</span><span class="tag astro-FNBAIWJC">UI</span><span class="tag astro-FNBAIWJC">Animation</span>
				<h3 class="tagline astro-FNBAIWJC">The goal of this project is to make a cool background with randomized shapes and to be customizable.
</h3>
			</div>
		</div>
		<div class="wrapper wrapper__readable astro-FNBAIWJC">
			<div class="content astro-FNBAIWJC"><p>The goal of this project is to make a cool background with randomized shapes and to be customizable.</p>
<p>Demo: <a href="https://canvas-shapes-background.netlify.app/">https://canvas-shapes-background.netlify.app/</a></p>
<p>Code: <a href="https://github.com/MaurerKrisztian/CanvasShapesBackground">https://github.com/MaurerKrisztian/CanvasShapesBackground</a></p>
<p>Simple example usage:</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/14pnxy4o6w6jt9e35bpv.gif" alt="codepan image">
<a href="https://codepen.io/maurerkrisztian/pen/rNdGerb">https://codepen.io/maurerkrisztian/pen/rNdGerb</a></p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">&#x3C;</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">lang</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"en"</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">&#x3C;</span><span style="color: #7EE787">head</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;</span><span style="color: #7EE787">meta</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">charset</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"UTF-8"</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;</span><span style="color: #7EE787">title</span><span style="color: #C9D1D9">>Title&#x3C;/</span><span style="color: #7EE787">title</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">    &#x3C;</span><span style="color: #7EE787">script</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">type</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">'text/javascript'</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">src</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"https://canvas-shapes-background.netlify.app/bundle.js"</span><span style="color: #C9D1D9">>&#x3C;/</span><span style="color: #7EE787">script</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">&#x3C;/</span><span style="color: #7EE787">head</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">&#x3C;</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">&#x3C;</span><span style="color: #7EE787">canvas</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">id</span><span style="color: #C9D1D9">=</span><span style="color: #A5D6FF">"myCanvas"</span><span style="color: #C9D1D9">>&#x3C;/</span><span style="color: #7EE787">canvas</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">&#x3C;</span><span style="color: #7EE787">script</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #D2A8FF">createShapeCanvas</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">"myCanvas"</span><span style="color: #C9D1D9">, {</span></span>
<span class="line"><span style="color: #C9D1D9">        modelNumbers: </span><span style="color: #79C0FF">11</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        colors: [</span><span style="color: #A5D6FF">'blue'</span><span style="color: #C9D1D9">, </span><span style="color: #A5D6FF">'red'</span><span style="color: #C9D1D9">, </span><span style="color: #A5D6FF">'green'</span><span style="color: #C9D1D9">, </span><span style="color: #A5D6FF">'yellow'</span><span style="color: #C9D1D9">],</span></span>
<span class="line"><span style="color: #C9D1D9">        backgroundColor: </span><span style="color: #A5D6FF">'black'</span><span style="color: #C9D1D9">, </span><span style="color: #8B949E">//'none',</span></span>
<span class="line"><span style="color: #C9D1D9">        enabledModels: [</span><span style="color: #A5D6FF">'Triangle'</span><span style="color: #C9D1D9">, </span><span style="color: #A5D6FF">'Circle'</span><span style="color: #C9D1D9">, </span><span style="color: #A5D6FF">'Rect'</span><span style="color: #C9D1D9">],</span></span>
<span class="line"><span style="color: #C9D1D9">        minSpeed: </span><span style="color: #79C0FF">11</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        maxSpeed: </span><span style="color: #79C0FF">11</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        lineWidth: </span><span style="color: #79C0FF">3</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        sizeMultiplier: </span><span style="color: #79C0FF">2</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">        startPosition: </span><span style="color: #A5D6FF">'random'</span><span style="color: #C9D1D9"> </span><span style="color: #8B949E">//  'middle' | 'random',</span></span>
<span class="line"><span style="color: #C9D1D9">        isFullScreen: </span><span style="color: #79C0FF">true</span><span style="color: #C9D1D9">,</span></span>
<span class="line"><span style="color: #C9D1D9">    })</span></span>
<span class="line"><span style="color: #C9D1D9">&#x3C;/</span><span style="color: #7EE787">script</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">&#x3C;/</span><span style="color: #7EE787">body</span><span style="color: #C9D1D9">></span></span>
<span class="line"><span style="color: #C9D1D9">&#x3C;/</span><span style="color: #7EE787">html</span><span style="color: #C9D1D9">></span></span></code></pre>
<p>I added a configurator with the demo: <a href="https://canvas-shapes-background.netlify.app/">https://canvas-shapes-background.netlify.app/</a></p>
<ul>
<li>Easily test different configs and copy the configured settings.</li>
</ul>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/pmy22nxbd7k5ffjatfs9.gif" alt="Image description"></p>
<p>“createShapeCanvas” has 2 arg</p>
<ul>
<li>canvas id</li>
<li>config</li>
</ul>
<h1 id="config">config</h1>
<ul>
<li>startPosition:  ‘middle’ | ‘random’ initial model position</li>
<li>enabledModels: thies shapes will be generated randomly</li>
<li>modelNumbers: generate this amount of models from “enabledModels” array</li>
<li>colors: pisck random color from this array for shapes</li>
<li>backgroundColor: canvas background color, can be “none”</li>
<li>minSpeed: shape min speed</li>
<li>maxSpeed: shape max speed</li>
<li>lineWidth: shape border line width</li>
<li>sizeMultiplier: multiply the generated size with this</li>
<li>isFullScreen: fullscreen or element size</li>
</ul>
<h2 id="how-i-made-it">How I made it?</h2>
<p>I used HTML Canvas.</p>
<p>I wanted to be easily extendable, so abstracted some thing:</p>
<h4 id="animator">Animator:</h4>
<ul>
<li>it is responsible for setup every frame and call the modell update()</li>
</ul>
<h3 id="model">Model:</h3>
<ul>
<li>has 2 main responsibility:</li>
<li>draw() - draw the shape,</li>
<li>update()
<ul>
<li>howto behave based on the current x,y position and</li>
<li>xd, dy aka where to want to move and how fast.
If you confused how dx, dy it works it basicly a vector.
it has a direction (this will be the model direction) and a length (this will be the model speed).
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/y7prvze366i4pe2gaw0o.png" alt="vector"></li>
</ul>
</li>
</ul>
<h2 id="example-model">Example model:</h2>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #FF7B72">export</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">class</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">CircleModel</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">implements</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">IModel</span><span style="color: #C9D1D9"> {</span></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">static</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">MODEL_NAME</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #A5D6FF">'Circle'</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FFA657">color</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #FF7B72">constructor</span><span style="color: #C9D1D9">(</span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">x</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">number</span><span style="color: #C9D1D9">, </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">y</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">number</span><span style="color: #C9D1D9">, </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">dx</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">number</span><span style="color: #C9D1D9">, </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">dy</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">number</span><span style="color: #C9D1D9">, </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">radius</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">number</span><span style="color: #C9D1D9">, </span><span style="color: #FF7B72">private</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">lineWidth</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">number</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> Setup.</span><span style="color: #79C0FF">CONFIG</span><span style="color: #C9D1D9">.lineWidth) {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.color </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> Utils.</span><span style="color: #D2A8FF">pickRandomFromArray</span><span style="color: #C9D1D9">&#x3C;</span><span style="color: #79C0FF">string</span><span style="color: #C9D1D9">>(Setup.</span><span style="color: #79C0FF">CONFIG</span><span style="color: #C9D1D9">.colors)</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #D2A8FF">draw</span><span style="color: #C9D1D9">(</span><span style="color: #FFA657">context</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">CanvasRenderingContext2D</span><span style="color: #C9D1D9">) {</span></span>
<span class="line"><span style="color: #C9D1D9">        context.lineWidth </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.lineWidth;</span></span>
<span class="line"><span style="color: #C9D1D9">        context.</span><span style="color: #D2A8FF">beginPath</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">        context.</span><span style="color: #D2A8FF">arc</span><span style="color: #C9D1D9">(</span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.x, </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.y, </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.radius, </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9">, </span><span style="color: #79C0FF">Math</span><span style="color: #C9D1D9">.</span><span style="color: #79C0FF">PI</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">*</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">2</span><span style="color: #C9D1D9">, </span><span style="color: #79C0FF">false</span><span style="color: #C9D1D9">);</span></span>
<span class="line"><span style="color: #C9D1D9">        context.strokeStyle </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.color;</span></span>
<span class="line"><span style="color: #C9D1D9">        context.</span><span style="color: #D2A8FF">stroke</span><span style="color: #C9D1D9">();</span></span>
<span class="line"><span style="color: #C9D1D9">        context.lineWidth </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">DEFAULT_LINE_WIDTH</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">    </span><span style="color: #D2A8FF">update</span><span style="color: #C9D1D9">(</span><span style="color: #FFA657">context</span><span style="color: #FF7B72">:</span><span style="color: #C9D1D9"> </span><span style="color: #FFA657">CanvasRenderingContext2D</span><span style="color: #C9D1D9">) {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (</span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.x </span><span style="color: #FF7B72">></span><span style="color: #C9D1D9"> Context.canvasWidth </span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.radius </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.x </span><span style="color: #FF7B72">&#x3C;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">+</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.radius) {</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.dx </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">-</span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.dx;</span></span>
<span class="line"><span style="color: #C9D1D9">        }</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (</span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.y </span><span style="color: #FF7B72">></span><span style="color: #C9D1D9"> Context.canvasHeight </span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.radius </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.y </span><span style="color: #FF7B72">&#x3C;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">+</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.radius) {</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.dy </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">-</span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.dy;</span></span>
<span class="line"><span style="color: #C9D1D9">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.x </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.x </span><span style="color: #FF7B72">+</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.dx;</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.y </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.y </span><span style="color: #FF7B72">+</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.dy;</span></span>
<span class="line"></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">draw</span><span style="color: #C9D1D9">(context);</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span>
<span class="line"><span style="color: #C9D1D9">}</span></span></code></pre>
<p>I wanted to baunce of from the side of the canvas so</p>
<p>Good to know where is the canvas side.</p>
<p>Coordinate system:
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xm4ejtneabm0tqnm8z3d.png" alt="Coordinate system"></p>
<p>So x(0) the left min position and x(canvasWidth) the right side posion, similarly with y.</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">if</span><span style="color: #C9D1D9"> (</span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.x </span><span style="color: #FF7B72">></span><span style="color: #C9D1D9"> Context.canvasWidth </span><span style="color: #FF7B72">-</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.radius </span><span style="color: #FF7B72">||</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.x </span><span style="color: #FF7B72">&#x3C;</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">0</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">+</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.radius) {</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.dx </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">-</span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.dx;</span></span>
<span class="line"><span style="color: #C9D1D9">        }</span></span></code></pre>
<p>If the current position (center of the circle) greather than canvas width - radius than change the x direction</p>
<p>Similarly with y.</p>
<p>At the end we need to set the new position:</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.x </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.x </span><span style="color: #FF7B72">+</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.dx;</span></span>
<span class="line"><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.y </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.y </span><span style="color: #FF7B72">+</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.dy;</span></span></code></pre>
<p>I made 3 model: Cirle, Rect, Triangle.</p>
<p>But you can add easily your model:</p>
<ul>
<li>create a model</li>
<li>add to ModelFactory</li>
</ul>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #C9D1D9">    private static </span><span style="color: #D2A8FF">createRandomModel</span><span style="color: #C9D1D9">() {</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">speed</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> Utils.</span><span style="color: #D2A8FF">generateRandom</span><span style="color: #C9D1D9">(Setup.</span><span style="color: #79C0FF">CONFIG</span><span style="color: #C9D1D9">.minSpeed, Setup.</span><span style="color: #79C0FF">CONFIG</span><span style="color: #C9D1D9">.maxSpeed)</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">const</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">randoModelName</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">=</span><span style="color: #C9D1D9"> Utils.</span><span style="color: #D2A8FF">pickRandomFromArray</span><span style="color: #C9D1D9">(Setup.</span><span style="color: #79C0FF">CONFIG</span><span style="color: #C9D1D9">.enabledModels)</span></span>
<span class="line"><span style="color: #C9D1D9">        </span><span style="color: #FF7B72">switch</span><span style="color: #C9D1D9"> (randoModelName) {</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #FF7B72">case</span><span style="color: #C9D1D9"> CircleModel.</span><span style="color: #79C0FF">MODEL_NAME</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">                </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">createRandomCircle</span><span style="color: #C9D1D9">(speed)</span></span>
<span class="line"><span style="color: #C9D1D9">                </span><span style="color: #FF7B72">break</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #FF7B72">case</span><span style="color: #C9D1D9"> TriangleModel.</span><span style="color: #79C0FF">MODEL_NAME</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">                </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">createRandomTriangle</span><span style="color: #C9D1D9">(speed)</span></span>
<span class="line"><span style="color: #C9D1D9">                </span><span style="color: #FF7B72">break</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #FF7B72">case</span><span style="color: #C9D1D9"> RectModel.</span><span style="color: #79C0FF">MODEL_NAME</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">                </span><span style="color: #FF7B72">return</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">this</span><span style="color: #C9D1D9">.</span><span style="color: #D2A8FF">createRandomRect</span><span style="color: #C9D1D9">(speed)</span></span>
<span class="line"><span style="color: #C9D1D9">                </span><span style="color: #FF7B72">break</span><span style="color: #C9D1D9">;</span></span>
<span class="line"><span style="color: #C9D1D9">            </span><span style="color: #FF7B72">default</span><span style="color: #C9D1D9">:</span></span>
<span class="line"><span style="color: #C9D1D9">                </span><span style="color: #FF7B72">throw</span><span style="color: #C9D1D9"> </span><span style="color: #FF7B72">new</span><span style="color: #C9D1D9"> </span><span style="color: #79C0FF">Error</span><span style="color: #C9D1D9">(</span><span style="color: #A5D6FF">`Model not found with name: ${</span><span style="color: #C9D1D9">randoModelName</span><span style="color: #A5D6FF">}`</span><span style="color: #C9D1D9">)</span></span>
<span class="line"><span style="color: #C9D1D9">        }</span></span>
<span class="line"><span style="color: #C9D1D9">    }</span></span></code></pre>
<h2 id="howto-create-importable-script">Howto create importable script?</h2>
<p>I just added the init function to the window so you can import the bundle script and call this function.</p>
<pre is:raw="" class="astro-code" style="background-color: #0d1117; overflow-x: auto;"><code><span class="line"><span style="color: #c9d1d9">window.createShapeCanvas = createShapeCanvas</span></span></code></pre>
<h2 id="future-plans">Future plans:</h2>
<ul>
<li>add more models</li>
<li>add more config options</li>
<li>create a react component and publish to npm</li>
</ul></div>
		</div>
		<footer class="tac mt6 astro-FNBAIWJC">
			<a href="/projects" class="astro-FNBAIWJC">
				<span class="_button_1fbb5_1">View More</span>
			</a>
		</footer>
		<footer class="_footer_knfx6_1">© 2022 Maurer Krisztián<small class="_byline_knfx6_9">🚀 Built by Astro</small></footer>
	</body></html>